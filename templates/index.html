<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <title>Wake</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
    <link rel="manifest" href="/static/site.webmanifest">
    <link rel="mask-icon" href="/static/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<main>
  <h2>Wake</h2>
  <form method="POST" action="/" id="wake-form">
      <select class="form-select form-select-mb" name="computer" id="computerSelect">
          <option hidden>Choose computer</option>
          {% for key, value in computers %}
              <option value="{{ key }}">
                  <span class="status-indicator" id="status-{{ key }}">●</span> {{ key }}
              </option>
          {% endfor %}
      </select>
      <button type="submit" class="btn btn-rounded">Power On</button>
  </form>
  <p id="wake-message" class="text-center mt-3" role="status" aria-live="polite"></p>
  <noscript>
      <p class="text-center mt-3">JavaScript is required to submit the wake request when CSRF protection is enabled.</p>
  </noscript>
  
  <div class="status-section">
      <h5>Computer Status</h5>
      <div id="status-list">
          {% for key, value in computers %}
              <div class="status-item">
                  <span class="status-dot" id="dot-{{ key }}">●</span>
                  <span class="computer-name">{{ key }}</span>
                  <span class="status-text" id="text-{{ key }}">Checking...</span>
              </div>
          {% endfor %}
      </div>
      <button type="button" class="btn btn-secondary btn-sm" id="refresh-status-btn">Refresh Status</button>
  </div>
</main>

<footer class="text-center text-white">
    <div class="container p-4 pb-0">
        <section class="mb-4">
                <a class="btn btn-floating m-1" href="https://x.com/jay_townsend1" role="button" aria-label="Twitter"
                ><i class="fab fa-x-twitter"></i
                ></a>
                <a class="btn btn-floating m-1" href="https://bsky.app/profile/jaytownsend1.bsky.social" role="button" aria-label="Bluesky"
                ><i class="fab fa-bluesky"></i
                ></a>
                <a class="btn btn-floating m-1" href="https://github.com/L1ghtn1ng/wake" role="button" aria-label="Github"
                ><i class="fab fa-github"></i
                ></a>
                <a class="btn btn-floating m-1" href="https://paypal.me/jaytownsend1" role="button" aria-label="Paypal donate"
                ><i class="fab fa-paypal"></i
                ></a>
            </section>
        </div>
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            &copy; <span id="current-year"></span> Copyright
            <a class="text-white" href="#">Jay Townsend</a>
        </div>
    </footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/static/script.js"></script>
</body>
</html>
